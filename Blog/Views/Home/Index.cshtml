@using Blog.Extensions
@model Blog.ViewModels.PostsListViewModel

@{
    ViewBag.Title = "Home Page";
}



@*// @Html.ActionLink("Dodaj","Create","Posts",null, new { @class = "btn btn-success"})*@


<div class="col" style="margin-top:50px">

    @foreach (var item in Model.PostsList)
    {

        <div class="col-lg-4 col-md-12 mb-5">

            <div class="card" style="width: auto; height:auto;">

                @{
                    if (item.Image.Length != 0)
                    {
                        var base64 = Convert.ToBase64String(item.Image);
                        var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);

                        <img src="@imgsrc" class="card-img-top" alt="">
                    }
                }
                <div class="card-body">
                    <h5 class="card-title">@item.Title</h5>

                    <a href="@Url.Action("Details", "Posts", new { id = item.Id, Title = item.Title.PrepareUrlTitle() }, null)" class="btn btn-primary">Wyświetl</a>
                </div>
            </div>
            </div>

            }
        </div>











        @*<tr>
                    <td class="post-title">
                        @item.Title
                    </td>
                    <td>

                        @{
                            // var imgsrc = "/Post/Images/pisanie-reczne.jpg";// defaultowe zdj
                            if (item.Image.Length != 0)
                            {
                                var base64 = Convert.ToBase64String(item.Image);
                                var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);

                                <img src='@imgsrc' width=200 height=200 />
                            }
                        }


                    </td>


                    <td>
                        @Html.ActionLink("Wyświetl", "Details", "Posts", new { id = item.Id, Title = item.Title.PrepareUrlTitle() }, null) |
                        @Html.ActionLink("Edytuj", "Edit", "Posts", new { id = item.Id }, null) |
                        @Html.ActionLink("Usuń", "Delete", "Posts", new { id = item.Id }, null) |

                    </td>

                </tr>

            }
                </tbody>


                </table>*@
