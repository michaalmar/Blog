@using Blog.Extensions
@model Blog.ViewModels.PostsListViewModel

@{
    ViewBag.Title = "Home Page";
}

<h2>Twoje Posty</h2>

    @Html.ActionLink("Dodaj","Create","Posts",null, new { @class = "btn btn-success"})



<table class="table">
    <thead>
        <tr>
            <th>
               Tytuł
            </th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.PostsList)
        {
           
            <tr>
                <td class="post-title">
                    @item.Title
                </td>
                <td>

                    @{
                       // var imgsrc = "/Post/Images/pisanie-reczne.jpg";// defaultowe zdj
                        if (item.Image.Length != 0)
                        {
                            var base64 = Convert.ToBase64String(item.Image);
                            var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);

                            <img src='@imgsrc' width=200 height=200 />
                        }
                    }


                </td>

   
                <td>
                    @Html.ActionLink("Wyświetl", "Details", "Posts", new { id = item.Id, Title = item.Title.PrepareUrlTitle() }, null) |
                    @Html.ActionLink("Edytuj", "Edit","Posts", new { id = item.Id }, null) |
                    @Html.ActionLink("Usuń", "Delete", "Posts", new { id = item.Id }, null) |

                </td>
                
            </tr>
          
        }
    </tbody>


    </table>
